---
// Contact Form Component for Footer
---

<div class="relative bg-gradient-to-br from-white via-white to-gray-50 rounded-xl p-5 shadow-lg border border-gray-100 overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-5">
    <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(248,139,33,0.3) 1px, transparent 0); background-size: 30px 30px;"></div>
  </div>
  
  <div class="relative">
    <!-- Header -->
    <div class="mb-5">
      <h3 class="font-gotham-bold text-lg text-gray-900 mb-3 flex items-center">
        <span class="w-1.5 h-6 bg-gradient-to-b from-carrot-orange to-eastern-blue rounded-full mr-2"></span>
        Contáctanos
      </h3>
      <p class="font-gotham text-gray-600">
        ¿Tienes alguna pregunta? Estamos aquí para ayudarte.
      </p>
    </div>
  
    <form class="space-y-4" id="contact-form">
      <!-- Name Field -->
      <div class="group">
        <label for="name" class="block font-gotham-medium text-sm text-gray-700 mb-2">
          Nombre completo *
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-carrot-orange/20 focus:border-carrot-orange transition-colors duration-300 font-gotham text-gray-900 placeholder-gray-400"
          placeholder="Tu nombre completo"
        />
      </div>

      <!-- Email Field -->
      <div class="group">
        <label for="email" class="block font-gotham-medium text-sm text-gray-700 mb-2">
          Correo electrónico *
        </label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-carrot-orange/20 focus:border-carrot-orange transition-colors duration-300 font-gotham text-gray-900 placeholder-gray-400"
          placeholder="tu@email.com"
        />
      </div>

      <!-- Company Field -->
      <div class="group">
        <label for="company" class="block font-gotham-medium text-sm text-gray-700 mb-2">
          Empresa
        </label>
        <input
          type="text"
          id="company"
          name="company"
          class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-carrot-orange/20 focus:border-carrot-orange transition-colors duration-300 font-gotham text-gray-900 placeholder-gray-400"
          placeholder="Nombre de tu empresa"
        />
      </div>

      <!-- Message Field -->
      <div class="group">
        <label for="message" class="block font-gotham-medium text-sm text-gray-700 mb-2">
          Mensaje *
        </label>
        <textarea
          id="message"
          name="message"
          rows="4"
          required
          class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-carrot-orange/20 focus:border-carrot-orange transition-colors duration-300 font-gotham resize-none text-gray-900 placeholder-gray-400"
          placeholder="Cuéntanos cómo podemos ayudarte..."
        ></textarea>
      </div>

      <!-- Submit Button -->
      <div class="pt-2">
        <button
          type="submit"
          class="w-full bg-carrot-orange hover:bg-eastern-blue text-white font-gotham-bold py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl"
        >
          Enviar Mensaje
        </button>
      </div>
  </form>

    <!-- Success/Error Messages -->
    <div id="form-message" class="mt-4 hidden">
      <div id="success-message" class="bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg hidden">
        <p class="font-gotham-medium text-sm">¡Mensaje enviado exitosamente! Te contactaremos pronto.</p>
      </div>
      <div id="error-message" class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg hidden">
        <p class="font-gotham-medium text-sm">Hubo un error al enviar el mensaje. Por favor intenta nuevamente.</p>
      </div>
    </div>
  </div>
</div>

<script>
  // Contact form handling
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const formMessage = document.getElementById('form-message');
    const successMessage = document.getElementById('success-message');
    const errorMessage = document.getElementById('error-message');

    if (form) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(form);
        const data = {
          name: formData.get('name'),
          email: formData.get('email'),
          company: formData.get('company'),
          message: formData.get('message')
        };

        try {
          // TODO: Replace with actual API endpoint
          console.log('Form data:', data);
          
          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 1000));
          
          // Show success message
          formMessage?.classList.remove('hidden');
          successMessage?.classList.remove('hidden');
          errorMessage?.classList.add('hidden');
          
          // Reset form
          form.reset();
          
        } catch (error) {
          console.error('Error sending form:', error);
          
          // Show error message
          formMessage?.classList.remove('hidden');
          errorMessage?.classList.remove('hidden');
          successMessage?.classList.add('hidden');
        }
      });
    }
  });
</script>
